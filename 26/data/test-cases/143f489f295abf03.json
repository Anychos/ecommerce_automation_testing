{"uid":"143f489f295abf03","name":"Добавление товара в корзину с авторизацией","fullName":"tests.ui.test_home_page.TestHomePage#test_click_add_to_cart_button_authorized","historyId":"f2b5d18e417959531af3cd7bdd431e33","time":{"start":1771718305748,"stop":1771718305748,"duration":0},"status":"failed","statusMessage":"AssertionError: Locator expected to be visible\nActual value: None\nError: element(s) not found \nCall log:\n  - Expect \"to_be_visible\" with timeout 5000ms\n  - waiting for get_by_test_id(\"flash-message-success\")","statusTrace":"playwright = <playwright._impl._playwright.Playwright object at 0x7f8c537363c0>\nuser_data_function = UserData(email='aggenovikov@example.com', name='Платон', phone='790385885', password='8%Upw0ZneE', confirm_password='8%Upw0ZneE')\n\n    @pytest.fixture\n    def function_get_browser_state(playwright: Playwright, user_data_function: UserData) -> None:\n        \"\"\"\n        Запускает Chromium браузер, создает и сохраняет состояние браузера зарегистрированного пользователя\n    \n        :param playwright: Экземпляр Playwright, предоставляемый pytest-playwright\n        :param user_data_function: Данные пользователя для регистрации\n        :return: Файл с состоянием браузера\n        \"\"\"\n    \n        browser = playwright.chromium.launch(headless=settings.headless)\n        context = browser.new_context(base_url=settings.get_base_url())\n        page = context.new_page()\n        registration_page = RegistrationPage(page)\n        home_page = HomePage(page)\n    \n        registration_page.open_url(Route.Registration)\n        registration_page.registration_form.fill(\n            email=user_data_function.email,\n            name=user_data_function.name,\n            phone=user_data_function.phone,\n            password=user_data_function.password,\n            confirm_password=user_data_function.confirm_password\n        )\n        registration_page.registration_form.click_registration_button()\n>       home_page.check_success_registration_message()\n\nsrc/ui/fixtures/browser.py:87: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <src.ui.pages.home.HomePage object at 0x7f8c536a3770>\n\n    @allure.step(\"Проверка нотификации успешной регистрации\")\n    def check_success_registration_message(self) -> None:\n        \"\"\"\n        Проверяет нотификацию успешной регистрации\n        \"\"\"\n    \n>       expect(self.success_message).to_be_visible()\nE       AssertionError: Locator expected to be visible\nE       Actual value: None\nE       Error: element(s) not found \nE       Call log:\nE         - Expect \"to_be_visible\" with timeout 5000ms\nE         - waiting for get_by_test_id(\"flash-message-success\")\n\nsrc/ui/pages/home.py:66: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"base_url","time":{"start":1771718286255,"stop":1771718286255,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_session_faker","time":{"start":1771718286255,"stop":1771718286339,"duration":84},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1771718286255,"stop":1771718286255,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright","time":{"start":1771718286340,"stop":1771718286759,"duration":419},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1771718286340,"stop":1771718286340,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"save_allure_environment_file","time":{"start":1771718286340,"stop":1771718286340,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1771718286340,"stop":1771718286340,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"private_admin_client","time":{"start":1771718305749,"stop":1771718306260,"duration":511},"status":"passed","steps":[{"name":"Отправка запроса на логин пользователя","time":{"start":1771718305776,"stop":1771718306232,"duration":456},"status":"passed","steps":[{"name":"Отправка POST запроса на '/login'","time":{"start":1771718305776,"stop":1771718306232,"duration":456},"status":"passed","steps":[],"attachments":[{"uid":"7ab516cfa896c9f4","name":"cURL","source":"7ab516cfa896c9f4.txt","type":"text/plain","size":341}],"parameters":[{"name":"url","value":"'/login'"},{"name":"json","value":"{'email': 'test_admin@mail.ru', 'password': 'test_admin_password'}"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"request","value":"LoginRequestSchema(email='test_admin@mail.ru', password='test_admin_password')"}],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":2,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"create_user_factory","time":{"start":1771718306260,"stop":1771718306260,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"admin","time":{"start":1771718306260,"stop":1771718306545,"duration":285},"status":"passed","steps":[{"name":"Отправка запроса на создание пользователя","time":{"start":1771718306261,"stop":1771718306544,"duration":283},"status":"passed","steps":[{"name":"Отправка POST запроса на '/users'","time":{"start":1771718306261,"stop":1771718306544,"duration":283},"status":"passed","steps":[],"attachments":[{"uid":"c6c6f374ce03bbec","name":"cURL","source":"c6c6f374ce03bbec.txt","type":"text/plain","size":548}],"parameters":[{"name":"url","value":"'/users'"},{"name":"json","value":"{'email': 'fadeevazhanna@example.org', 'name': 'Лора', 'phone': '+72346019676', 'password': '&8qYrGDck#', 'is_admin': True}"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"request","value":"CreateUserRequestSchema(email='fadeevazhanna@example.org', name='Лора', phone='+72346019676', password='&8qYrGDck#', is_admin=True)"}],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":2,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"admin_private_product_client","time":{"start":1771718306545,"stop":1771718306956,"duration":411},"status":"passed","steps":[{"name":"Отправка запроса на логин пользователя","time":{"start":1771718306582,"stop":1771718306922,"duration":340},"status":"passed","steps":[{"name":"Отправка POST запроса на '/login'","time":{"start":1771718306583,"stop":1771718306922,"duration":339},"status":"passed","steps":[],"attachments":[{"uid":"3f1f96f0fe96a92c","name":"cURL","source":"3f1f96f0fe96a92c.txt","type":"text/plain","size":339}],"parameters":[{"name":"url","value":"'/login'"},{"name":"json","value":"{'email': 'fadeevazhanna@example.org', 'password': '&8qYrGDck#'}"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"request","value":"LoginRequestSchema(email='fadeevazhanna@example.org', password='&8qYrGDck#')"}],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":2,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"create_product_factory","time":{"start":1771718306956,"stop":1771718306956,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"create_available_product","time":{"start":1771718306956,"stop":1771718306969,"duration":13},"status":"passed","steps":[{"name":"Отправка запроса на создание продукта","time":{"start":1771718306956,"stop":1771718306968,"duration":12},"status":"passed","steps":[{"name":"Отправка POST запроса на '/products'","time":{"start":1771718306957,"stop":1771718306968,"duration":11},"status":"passed","steps":[],"attachments":[{"uid":"b1f490133b7a74a3","name":"cURL","source":"b1f490133b7a74a3.txt","type":"text/plain","size":885}],"parameters":[{"name":"url","value":"'/products'"},{"name":"json","value":"{'name': 'каюта', 'description': 'Постоянный применяться роса зеленый непривычный монета правление слишком. Жить ботинок провинция секунда девка важный присесть.\\nКазнь неожиданно посидеть протягивать.', 'price': 500, 'is_available': True, 'image_url': 'https://dummyimage.com/148x842.webp', 'stock_quantity': 1}"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"request","value":"CreateProductRequestSchema(name='каюта', description='Постоянный применяться роса зеленый непривычный монета правление слишком. Жить ботинок провинция секунда девка важный присесть.\\nКазнь неожиданно посидеть протягивать.', price=500, is_available=True, image_url='https://dummyimage.com/148x842.webp', stock_quantity=1)"}],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":2,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"function_get_browser_state","time":{"start":1771718306969,"stop":1771718312444,"duration":5475},"status":"failed","statusMessage":"AssertionError: Locator expected to be visible\nActual value: None\nError: element(s) not found \nCall log:\n  - Expect \"to_be_visible\" with timeout 5000ms\n  - waiting for get_by_test_id(\"flash-message-success\")\n\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/pluggy/_callers.py\", line 38, in run_old_style_hookwrapper\n    res = yield\n          ^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/pluggy/_callers.py\", line 139, in _multicall\n    teardown.throw(exception)\n  File \"/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/pluggy/_callers.py\", line 53, in run_old_style_hookwrapper\n    return result.get_result()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/pluggy/_result.py\", line 103, in get_result\n    raise exc.with_traceback(tb)\n  File \"/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/pluggy/_callers.py\", line 38, in run_old_style_hookwrapper\n    res = yield\n          ^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/pluggy/_callers.py\", line 139, in _multicall\n    teardown.throw(exception)\n  File \"/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/_pytest/setuponly.py\", line 36, in pytest_fixture_setup\n    return (yield)\n            ^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/_pytest/fixtures.py\", line 1202, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/_pytest/fixtures.py\", line 915, in call_fixture_func\n    fixture_result = fixturefunc(**kwargs)\n                     ^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/ecommerce_automation_testing/ecommerce_automation_testing/src/ui/fixtures/browser.py\", line 87, in function_get_browser_state\n    home_page.check_success_registration_message()\n  File \"/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 202, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/ecommerce_automation_testing/ecommerce_automation_testing/src/ui/pages/home.py\", line 66, in check_success_registration_message\n    expect(self.success_message).to_be_visible()\n  File \"/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/playwright/sync_api/_generated.py\", line 20529, in to_be_visible\n    self._sync(self._impl_obj.to_be_visible(visible=visible, timeout=timeout))\n  File \"/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/playwright/_impl/_sync_base.py\", line 115, in _sync\n    return task.result()\n           ^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/playwright/_impl/_assertions.py\", line 765, in to_be_visible\n    await self._expect_impl(\n  File \"/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/playwright/_impl/_assertions.py\", line 85, in _expect_impl\n    raise AssertionError(\n","steps":[{"name":"Открытие страницы '/register'","time":{"start":1771718307119,"stop":1771718307206,"duration":87},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"url","value":"'/register'"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Заполнение формы регистрации","time":{"start":1771718307206,"stop":1771718307314,"duration":108},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"email","value":"'aggenovikov@example.com'"},{"name":"name","value":"'Платон'"},{"name":"phone","value":"'790385885'"},{"name":"password","value":"'8%Upw0ZneE'"},{"name":"confirm_password","value":"'8%Upw0ZneE'"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Клик по кнопке зарегистрироваться","time":{"start":1771718307314,"stop":1771718307435,"duration":121},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Проверка нотификации успешной регистрации","time":{"start":1771718307435,"stop":1771718312443,"duration":5008},"status":"failed","statusMessage":"AssertionError: Locator expected to be visible\nActual value: None\nError: element(s) not found \nCall log:\n  - Expect \"to_be_visible\" with timeout 5000ms\n  - waiting for get_by_test_id(\"flash-message-success\")\n\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 202, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/ecommerce_automation_testing/ecommerce_automation_testing/src/ui/pages/home.py\", line 66, in check_success_registration_message\n    expect(self.success_message).to_be_visible()\n  File \"/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/playwright/sync_api/_generated.py\", line 20529, in to_be_visible\n    self._sync(self._impl_obj.to_be_visible(visible=visible, timeout=timeout))\n  File \"/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/playwright/_impl/_sync_base.py\", line 115, in _sync\n    return task.result()\n           ^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/playwright/_impl/_assertions.py\", line 765, in to_be_visible\n    await self._expect_impl(\n  File \"/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/playwright/_impl/_assertions.py\", line 85, in _expect_impl\n    raise AssertionError(\n","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":4,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"user_data_function","time":{"start":1771718306969,"stop":1771718306969,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"function_chromium_page_with_state","time":{"start":1771718317943,"stop":1771718318032,"duration":89},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"home_page_with_state","time":{"start":1771718318032,"stop":1771718318033,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"afterStages":[{"name":"function_chromium_page_with_state::0","time":{"start":1771718318314,"stop":1771718318340,"duration":26},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright::0","time":{"start":1771718324901,"stop":1771718324936,"duration":35},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"save_allure_environment_file::0","time":{"start":1771718324937,"stop":1771718324937,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"feature","value":"User - Shopping Cart"},{"name":"story","value":"User Add Item to Cart"},{"name":"severity","value":"blocker"},{"name":"epic","value":"Store Front"},{"name":"tag","value":"smoke"},{"name":"tag","value":"regression"},{"name":"tag","value":"home"},{"name":"tag","value":"ui"},{"name":"parentSuite","value":"tests.ui"},{"name":"suite","value":"test_home_page"},{"name":"subSuite","value":"TestHomePage"},{"name":"host","value":"runnervmwffz4"},{"name":"thread","value":"6522-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.ui.test_home_page"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":["ui","regression","smoke","home"]},"source":"143f489f295abf03.json","parameterValues":[]}