{"uid":"c8f2f199de93ed73","name":"Отображение страницы оформления заказа","fullName":"tests.ui.test_checkout_page.TestCheckoutPage#test_check_checkout_page","historyId":"e50c9839073285297f5e38248e231fe9","time":{"start":1771561683478,"stop":1771561688814,"duration":5336},"status":"failed","statusMessage":"AssertionError: Locator expected to have text '100 ₽'\nActual value: \n                                \n                                Бесплатно\n                                \n                             \nCall log:\n  - Expect \"to_have_text\" with timeout 5000ms\n  - waiting for get_by_test_id(\"order-summary-card\").get_by_test_id(\"delivery-value\")\n    9 × locator resolved to <span data-testid=\"delivery-value\">…</span>\n      - unexpected value \"\n                                \n                                Бесплатно\n                                \n                            \"","statusTrace":"self = <tests.ui.test_checkout_page.TestCheckoutPage object at 0x7fef457e1b80>\ncheckout_page = <src.ui.pages.checkout.CheckoutPage object at 0x7fef4557f410>\n\n    @allure.story(Story.PAGE_VISIBILITY)\n    @allure.severity(Severity.MAJOR)\n    @allure.title(\"Отображение страницы оформления заказа\")\n    def test_check_checkout_page(self, checkout_page: CheckoutPage):\n        checkout_page.open_url(Route.Checkout)\n    \n        checkout_page.delivery_details_form.check_visibility()\n>       checkout_page.summary_info.check_visibility(page_name=\"checkout\")\n\ntests/ui/test_checkout_page.py:28: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <src.ui.components.common.order_summary.OrderSummary object at 0x7fef4557c380>\n\n    @allure.step(\"Проверка видимости элементов итоговой информации о заказе на странице {page_name}\")\n    def check_visibility(self,\n                         *,\n                         page_name: str,\n                         is_free_delivery: bool = False\n                         ) -> None:\n        \"\"\"\n        Проверяет видимость элементов блока с итоговой информацией о заказе\n    \n        :param page_name: Название страницы\n        :param is_free_delivery: Флаг бесплатной доставки\n        \"\"\"\n    \n        if page_name == \"cart\":\n            expect(self.title(\"summary\")).to_be_visible()\n            expect(self.title(\"summary\")).to_have_text(\"Итого\")\n    \n            expect(self.label(\"subtotal\")).to_be_visible()\n            expect(self.label(\"subtotal\")).to_have_text(re.compile(r\"Товары\\s\\(\\d+\\)\"))\n            expect(self.label_value(\"subtotal\")).to_be_visible()\n            expect(self.label_value(\"subtotal\")).to_have_text(re.compile(r\"\\d+\\.\\d+\\s₽\"))\n    \n            expect(self.label(\"delivery\")).to_be_visible()\n            expect(self.label(\"delivery\")).to_have_text(\"Доставка\")\n            expect(self.label_value(\"delivery\")).to_be_visible()\n    \n            expect(self.label(\"total\")).to_be_visible()\n            expect(self.label(\"total\")).to_have_text(\"К оплате\")\n            expect(self.label_value(\"total\")).to_be_visible()\n            expect(self.label_value(\"total\")).to_have_text(re.compile(r\"\\d+\\.\\d+\\s₽\"))\n    \n            if is_free_delivery:\n                expect(self.delivery_info_container).to_be_visible()\n                expect(self.delivery_info_text).to_have_text(re.compile(r\"Добавьте товаров на \\d+\\.\\d+\\s₽ для бесплатной доставки\"))\n            else:\n                expect(self.label_value(\"delivery\")).to_have_text(re.compile(r\"\\d+\\s₽\"))\n                expect(self.delivery_info_container).to_be_visible()\n                expect(self.delivery_info_text).to_be_visible()\n                expect(self.delivery_info_text).to_have_text(re.compile(r\"Добавьте товаров на \\d+\\.\\d+\\s₽ для бесплатной доставки\"))\n    \n            expect(self.button(\"checkout\")).to_be_visible()\n            expect(self.button(\"checkout\")).to_have_text(\"Оформить заказ\")\n            expect(self.button(\"continue-shopping\")).to_be_visible()\n            expect(self.button(\"continue-shopping\")).to_have_text(\"Продолжить покупки\")\n    \n        elif page_name == \"checkout\":\n            expect(self.title(\"summary\")).to_be_visible()\n            expect(self.title(\"summary\")).to_have_text(\"Ваш заказ\")\n    \n            expect(self.label(\"cart-number\")).to_be_visible()\n            expect(self.label(\"cart-number\")).to_have_text(\"Корзина:\")\n            expect(self.label_value(\"cart-number\")).to_be_visible()\n            expect(self.label_value(\"cart-number\")).to_have_text(re.compile(r\"#\\d+\"))\n    \n            expect(self.label(\"cart-items\")).to_be_visible()\n            expect(self.label(\"cart-items\")).to_have_text(\"Товаров:\")\n            expect(self.label_value(\"cart-items\")).to_be_visible()\n            expect(self.label_value(\"cart-items\")).to_have_text(re.compile(r\"\\d+\\sшт\\.\"))\n    \n            expect(self.title(\"items\")).to_be_visible()\n            expect(self.title(\"items\")).to_have_text(\"Состав заказа:\")\n    \n            expect(self.order_item_name).to_be_visible()\n            expect(self.order_item_details).to_be_visible()\n            expect(self.order_item_details).to_have_text(re.compile(r\"\\d+\\s×\\s\\d+\\.\\d+\\s₽\"))\n            expect(self.order_item_total_price).to_be_visible()\n            expect(self.order_item_total_price).to_have_text(re.compile(r\"\\d+\\.\\d+\\s₽\"))\n    \n            expect(self.label(\"subtotal\")).to_be_visible()\n            expect(self.label(\"subtotal\")).to_have_text(\"Товары\")\n            expect(self.label_value(\"subtotal\")).to_be_visible()\n            expect(self.label_value(\"subtotal\")).to_have_text(re.compile(r\"\\d+\\.\\d+\\s₽\"))\n    \n            expect(self.label(\"delivery\")).to_be_visible()\n            expect(self.label(\"delivery\")).to_have_text(\"Доставка\")\n            expect(self.label_value(\"delivery\")).to_be_visible()\n    \n            if is_free_delivery:\n                expect(self.label_value(\"delivery\")).to_have_text(\"Бесплатно\")\n            else:\n>               expect(self.label_value(\"delivery\")).to_have_text(\"100 ₽\")\nE               AssertionError: Locator expected to have text '100 ₽'\nE               Actual value: \nE                                               \nE                                               Бесплатно\nE                                               \nE                                            \nE               Call log:\nE                 - Expect \"to_have_text\" with timeout 5000ms\nE                 - waiting for get_by_test_id(\"order-summary-card\").get_by_test_id(\"delivery-value\")\nE                   9 × locator resolved to <span data-testid=\"delivery-value\">…</span>\nE                     - unexpected value \"\nE                                               \nE                                               Бесплатно\nE                                               \nE                                           \"\n\nsrc/ui/components/common/order_summary.py:119: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"base_url","time":{"start":1771561671170,"stop":1771561671170,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1771561671170,"stop":1771561671171,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_session_faker","time":{"start":1771561671171,"stop":1771561671255,"duration":84},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1771561671256,"stop":1771561671256,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"save_allure_environment_file","time":{"start":1771561671256,"stop":1771561671256,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright","time":{"start":1771561671256,"stop":1771561671590,"duration":334},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1771561671256,"stop":1771561671256,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"private_admin_client","time":{"start":1771561680140,"stop":1771561680501,"duration":361},"status":"passed","steps":[{"name":"Отправка запроса на логин пользователя","time":{"start":1771561680174,"stop":1771561680474,"duration":300},"status":"passed","steps":[{"name":"Отправка POST запроса на '/login'","time":{"start":1771561680174,"stop":1771561680474,"duration":300},"status":"passed","steps":[],"attachments":[{"uid":"5e156fd6c7808a1f","name":"cURL","source":"5e156fd6c7808a1f.txt","type":"text/plain","size":341}],"parameters":[{"name":"url","value":"'/login'"},{"name":"json","value":"{'email': 'test_admin@mail.ru', 'password': 'test_admin_password'}"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"request","value":"LoginRequestSchema(email='test_admin@mail.ru', password='test_admin_password')"}],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":2,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"admin","time":{"start":1771561680501,"stop":1771561681198,"duration":697},"status":"passed","steps":[{"name":"Отправка запроса на создание пользователя","time":{"start":1771561680502,"stop":1771561681197,"duration":695},"status":"passed","steps":[{"name":"Отправка POST запроса на '/users'","time":{"start":1771561680502,"stop":1771561681197,"duration":695},"status":"passed","steps":[],"attachments":[{"uid":"d9e455a9baa88f65","name":"cURL","source":"d9e455a9baa88f65.txt","type":"text/plain","size":553}],"parameters":[{"name":"url","value":"'/users'"},{"name":"json","value":"{'email': 'wkiseleva@example.org', 'name': 'Гостомысл', 'phone': '85395073071', 'password': '%0xmKdhN@4', 'is_admin': True}"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"request","value":"CreateUserRequestSchema(email='wkiseleva@example.org', name='Гостомысл', phone='85395073071', password='%0xmKdhN@4', is_admin=True)"}],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":2,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"create_user_factory","time":{"start":1771561680501,"stop":1771561680501,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"admin_private_product_client","time":{"start":1771561681198,"stop":1771561681713,"duration":515},"status":"passed","steps":[{"name":"Отправка запроса на логин пользователя","time":{"start":1771561681226,"stop":1771561681682,"duration":456},"status":"passed","steps":[{"name":"Отправка POST запроса на '/login'","time":{"start":1771561681227,"stop":1771561681682,"duration":455},"status":"passed","steps":[],"attachments":[{"uid":"47b02f892add132f","name":"cURL","source":"47b02f892add132f.txt","type":"text/plain","size":335}],"parameters":[{"name":"url","value":"'/login'"},{"name":"json","value":"{'email': 'wkiseleva@example.org', 'password': '%0xmKdhN@4'}"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"request","value":"LoginRequestSchema(email='wkiseleva@example.org', password='%0xmKdhN@4')"}],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":2,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"create_product_factory","time":{"start":1771561681713,"stop":1771561681714,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"create_available_product","time":{"start":1771561681714,"stop":1771561681777,"duration":63},"status":"passed","steps":[{"name":"Отправка запроса на создание продукта","time":{"start":1771561681714,"stop":1771561681777,"duration":63},"status":"passed","steps":[{"name":"Отправка POST запроса на '/products'","time":{"start":1771561681714,"stop":1771561681777,"duration":63},"status":"passed","steps":[],"attachments":[{"uid":"f54d25561798ab79","name":"cURL","source":"f54d25561798ab79.txt","type":"text/plain","size":828}],"parameters":[{"name":"url","value":"'/products'"},{"name":"json","value":"{'name': 'расстегнуть', 'description': 'Командующий магазин кожа направо. Необычный славный коммунизм запустить неправда дружно. Наткнуться решетка пастух отъезд умолять.', 'price': 500, 'is_available': True, 'image_url': 'https://dummyimage.com/490x438.webp', 'stock_quantity': 1}"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"request","value":"CreateProductRequestSchema(name='расстегнуть', description='Командующий магазин кожа направо. Необычный славный коммунизм запустить неправда дружно. Наткнуться решетка пастух отъезд умолять.', price=500, is_available=True, image_url='https://dummyimage.com/490x438.webp', stock_quantity=1)"}],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":2,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"function_get_browser_state","time":{"start":1771561681778,"stop":1771561683026,"duration":1248},"status":"passed","steps":[{"name":"Открытие страницы '/register'","time":{"start":1771561682114,"stop":1771561682215,"duration":101},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"url","value":"'/register'"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Заполнение формы регистрации","time":{"start":1771561682215,"stop":1771561682347,"duration":132},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"email","value":"'fedor_2007@example.net'"},{"name":"name","value":"'Адриан'"},{"name":"phone","value":"'81381993663'"},{"name":"password","value":"'2p5UDVQfr%'"},{"name":"confirm_password","value":"'2p5UDVQfr%'"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Клик по кнопке зарегистрироваться","time":{"start":1771561682347,"stop":1771561682905,"duration":558},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Проверка нотификации успешной регистрации","time":{"start":1771561682905,"stop":1771561682976,"duration":71},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":4,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"user_data_function","time":{"start":1771561681778,"stop":1771561681778,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"function_chromium_page_with_state","time":{"start":1771561683026,"stop":1771561683170,"duration":144},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"cart_page","time":{"start":1771561683170,"stop":1771561683170,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"home_page_with_state","time":{"start":1771561683170,"stop":1771561683170,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"cart_page_with_product","time":{"start":1771561683170,"stop":1771561683477,"duration":307},"status":"passed","steps":[{"name":"Открытие страницы '/'","time":{"start":1771561683170,"stop":1771561683270,"duration":100},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"url","value":"'/'"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Клик по кнопке добавления товара в корзину","time":{"start":1771561683271,"stop":1771561683356,"duration":85},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Проверка нотификации успешного добавления товара в корзину","time":{"start":1771561683356,"stop":1771561683477,"duration":121},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":3,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"checkout_page","time":{"start":1771561683477,"stop":1771561683477,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"failed","statusMessage":"AssertionError: Locator expected to have text '100 ₽'\nActual value: \n                                \n                                Бесплатно\n                                \n                             \nCall log:\n  - Expect \"to_have_text\" with timeout 5000ms\n  - waiting for get_by_test_id(\"order-summary-card\").get_by_test_id(\"delivery-value\")\n    9 × locator resolved to <span data-testid=\"delivery-value\">…</span>\n      - unexpected value \"\n                                \n                                Бесплатно\n                                \n                            \"","statusTrace":"self = <tests.ui.test_checkout_page.TestCheckoutPage object at 0x7fef457e1b80>\ncheckout_page = <src.ui.pages.checkout.CheckoutPage object at 0x7fef4557f410>\n\n    @allure.story(Story.PAGE_VISIBILITY)\n    @allure.severity(Severity.MAJOR)\n    @allure.title(\"Отображение страницы оформления заказа\")\n    def test_check_checkout_page(self, checkout_page: CheckoutPage):\n        checkout_page.open_url(Route.Checkout)\n    \n        checkout_page.delivery_details_form.check_visibility()\n>       checkout_page.summary_info.check_visibility(page_name=\"checkout\")\n\ntests/ui/test_checkout_page.py:28: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <src.ui.components.common.order_summary.OrderSummary object at 0x7fef4557c380>\n\n    @allure.step(\"Проверка видимости элементов итоговой информации о заказе на странице {page_name}\")\n    def check_visibility(self,\n                         *,\n                         page_name: str,\n                         is_free_delivery: bool = False\n                         ) -> None:\n        \"\"\"\n        Проверяет видимость элементов блока с итоговой информацией о заказе\n    \n        :param page_name: Название страницы\n        :param is_free_delivery: Флаг бесплатной доставки\n        \"\"\"\n    \n        if page_name == \"cart\":\n            expect(self.title(\"summary\")).to_be_visible()\n            expect(self.title(\"summary\")).to_have_text(\"Итого\")\n    \n            expect(self.label(\"subtotal\")).to_be_visible()\n            expect(self.label(\"subtotal\")).to_have_text(re.compile(r\"Товары\\s\\(\\d+\\)\"))\n            expect(self.label_value(\"subtotal\")).to_be_visible()\n            expect(self.label_value(\"subtotal\")).to_have_text(re.compile(r\"\\d+\\.\\d+\\s₽\"))\n    \n            expect(self.label(\"delivery\")).to_be_visible()\n            expect(self.label(\"delivery\")).to_have_text(\"Доставка\")\n            expect(self.label_value(\"delivery\")).to_be_visible()\n    \n            expect(self.label(\"total\")).to_be_visible()\n            expect(self.label(\"total\")).to_have_text(\"К оплате\")\n            expect(self.label_value(\"total\")).to_be_visible()\n            expect(self.label_value(\"total\")).to_have_text(re.compile(r\"\\d+\\.\\d+\\s₽\"))\n    \n            if is_free_delivery:\n                expect(self.delivery_info_container).to_be_visible()\n                expect(self.delivery_info_text).to_have_text(re.compile(r\"Добавьте товаров на \\d+\\.\\d+\\s₽ для бесплатной доставки\"))\n            else:\n                expect(self.label_value(\"delivery\")).to_have_text(re.compile(r\"\\d+\\s₽\"))\n                expect(self.delivery_info_container).to_be_visible()\n                expect(self.delivery_info_text).to_be_visible()\n                expect(self.delivery_info_text).to_have_text(re.compile(r\"Добавьте товаров на \\d+\\.\\d+\\s₽ для бесплатной доставки\"))\n    \n            expect(self.button(\"checkout\")).to_be_visible()\n            expect(self.button(\"checkout\")).to_have_text(\"Оформить заказ\")\n            expect(self.button(\"continue-shopping\")).to_be_visible()\n            expect(self.button(\"continue-shopping\")).to_have_text(\"Продолжить покупки\")\n    \n        elif page_name == \"checkout\":\n            expect(self.title(\"summary\")).to_be_visible()\n            expect(self.title(\"summary\")).to_have_text(\"Ваш заказ\")\n    \n            expect(self.label(\"cart-number\")).to_be_visible()\n            expect(self.label(\"cart-number\")).to_have_text(\"Корзина:\")\n            expect(self.label_value(\"cart-number\")).to_be_visible()\n            expect(self.label_value(\"cart-number\")).to_have_text(re.compile(r\"#\\d+\"))\n    \n            expect(self.label(\"cart-items\")).to_be_visible()\n            expect(self.label(\"cart-items\")).to_have_text(\"Товаров:\")\n            expect(self.label_value(\"cart-items\")).to_be_visible()\n            expect(self.label_value(\"cart-items\")).to_have_text(re.compile(r\"\\d+\\sшт\\.\"))\n    \n            expect(self.title(\"items\")).to_be_visible()\n            expect(self.title(\"items\")).to_have_text(\"Состав заказа:\")\n    \n            expect(self.order_item_name).to_be_visible()\n            expect(self.order_item_details).to_be_visible()\n            expect(self.order_item_details).to_have_text(re.compile(r\"\\d+\\s×\\s\\d+\\.\\d+\\s₽\"))\n            expect(self.order_item_total_price).to_be_visible()\n            expect(self.order_item_total_price).to_have_text(re.compile(r\"\\d+\\.\\d+\\s₽\"))\n    \n            expect(self.label(\"subtotal\")).to_be_visible()\n            expect(self.label(\"subtotal\")).to_have_text(\"Товары\")\n            expect(self.label_value(\"subtotal\")).to_be_visible()\n            expect(self.label_value(\"subtotal\")).to_have_text(re.compile(r\"\\d+\\.\\d+\\s₽\"))\n    \n            expect(self.label(\"delivery\")).to_be_visible()\n            expect(self.label(\"delivery\")).to_have_text(\"Доставка\")\n            expect(self.label_value(\"delivery\")).to_be_visible()\n    \n            if is_free_delivery:\n                expect(self.label_value(\"delivery\")).to_have_text(\"Бесплатно\")\n            else:\n>               expect(self.label_value(\"delivery\")).to_have_text(\"100 ₽\")\nE               AssertionError: Locator expected to have text '100 ₽'\nE               Actual value: \nE                                               \nE                                               Бесплатно\nE                                               \nE                                            \nE               Call log:\nE                 - Expect \"to_have_text\" with timeout 5000ms\nE                 - waiting for get_by_test_id(\"order-summary-card\").get_by_test_id(\"delivery-value\")\nE                   9 × locator resolved to <span data-testid=\"delivery-value\">…</span>\nE                     - unexpected value \"\nE                                               \nE                                               Бесплатно\nE                                               \nE                                           \"\n\nsrc/ui/components/common/order_summary.py:119: AssertionError","steps":[{"name":"Открытие страницы '/checkout'","time":{"start":1771561683478,"stop":1771561683540,"duration":62},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"url","value":"'/checkout'"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Проверка видимости элементов формы доставки","time":{"start":1771561683541,"stop":1771561683720,"duration":179},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Проверка видимости элементов итоговой информации о заказе на странице 'checkout'","time":{"start":1771561683720,"stop":1771561688813,"duration":5093},"status":"failed","statusMessage":"AssertionError: Locator expected to have text '100 ₽'\nActual value: \n                                \n                                Бесплатно\n                                \n                             \nCall log:\n  - Expect \"to_have_text\" with timeout 5000ms\n  - waiting for get_by_test_id(\"order-summary-card\").get_by_test_id(\"delivery-value\")\n    9 × locator resolved to <span data-testid=\"delivery-value\">…</span>\n      - unexpected value \"\n                                \n                                Бесплатно\n                                \n                            \"\n\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 202, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/ecommerce_automation_testing/ecommerce_automation_testing/src/ui/components/common/order_summary.py\", line 119, in check_visibility\n    expect(self.label_value(\"delivery\")).to_have_text(\"100 ₽\")\n  File \"/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/playwright/sync_api/_generated.py\", line 20086, in to_have_text\n    self._sync(\n  File \"/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/playwright/_impl/_sync_base.py\", line 115, in _sync\n    return task.result()\n           ^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/playwright/_impl/_assertions.py\", line 561, in to_have_text\n    await self._expect_impl(\n  File \"/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/playwright/_impl/_assertions.py\", line 85, in _expect_impl\n    raise AssertionError(\n","steps":[],"attachments":[],"parameters":[{"name":"page_name","value":"'checkout'"}],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":3,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"function_chromium_page_with_state::0","time":{"start":1771561688830,"stop":1771561688893,"duration":63},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright::0","time":{"start":1771561706435,"stop":1771561706443,"duration":8},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"save_allure_environment_file::0","time":{"start":1771561706443,"stop":1771561706444,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"story","value":"Page Visibility"},{"name":"feature","value":"User - Orders"},{"name":"severity","value":"major"},{"name":"epic","value":"Store Front"},{"name":"tag","value":"regression"},{"name":"tag","value":"checkout"},{"name":"tag","value":"ui"},{"name":"parentSuite","value":"tests.ui"},{"name":"suite","value":"test_checkout_page"},{"name":"subSuite","value":"TestCheckoutPage"},{"name":"host","value":"runnervmwffz4"},{"name":"thread","value":"6512-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.ui.test_checkout_page"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":["ui","regression","checkout"]},"source":"c8f2f199de93ed73.json","parameterValues":[]}