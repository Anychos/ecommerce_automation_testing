{"uid":"4da4eff19120b489","name":"Добавление товара в корзину с авторизацией","fullName":"tests.ui.test_home_page.TestHomePage#test_click_add_to_cart_button_authorized","historyId":"f2b5d18e417959531af3cd7bdd431e33","time":{"start":1771649050930,"stop":1771649056172,"duration":5242},"status":"failed","statusMessage":"AssertionError: Locator expected to be visible\nActual value: None\nError: element(s) not found \nCall log:\n  - Expect \"to_be_visible\" with timeout 5000ms\n  - waiting for locator(\".alert-success\").first","statusTrace":"self = <tests.ui.test_home_page.TestHomePage object at 0x7fc0c34ebc20>\ncreate_available_product = CreateProductFixture(request=CreateProductRequestSchema(name='миф', description='Приходить видимо монета за славный ак...ожиданный.', price=500.0, is_available=True, image_url='https://placekitten.com/568/490.png', stock_quantity=1, id=14))\nhome_page_with_state = <src.ui.pages.home.HomePage object at 0x7fc0c2dc28a0>\n\n    @pytest.mark.smoke\n    @allure.feature(Feature.USER_CART)\n    @allure.story(Story.USER_ADD_ITEM_TO_CART)\n    @allure.severity(Severity.BLOCKER)\n    @allure.title(\"Добавление товара в корзину с авторизацией\")\n    def test_click_add_to_cart_button_authorized(self,\n                                                 create_available_product: CreateProductFixture,\n                                                 home_page_with_state: HomePage\n                                                 ):\n        home_page_with_state.open_url(Route.Home)\n    \n        home_page_with_state.get_product_card(create_available_product.product_id).click_add_to_cart_button()\n    \n>       home_page_with_state.check_add_to_cart_success_notification()\n\ntests/ui/test_home_page.py:94: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <src.ui.pages.home.HomePage object at 0x7fc0c2dc28a0>\n\n    @allure.step(\"Проверка нотификации успешного добавления товара в корзину\")\n    def check_add_to_cart_success_notification(self) -> None:\n        \"\"\"\n        Проверяет нотификацию успешного добавления товара в корзину\n        \"\"\"\n    \n>       expect(self.add_to_cart_notification(\"success\")).to_be_visible()\nE       AssertionError: Locator expected to be visible\nE       Actual value: None\nE       Error: element(s) not found \nE       Call log:\nE         - Expect \"to_be_visible\" with timeout 5000ms\nE         - waiting for locator(\".alert-success\").first\n\nsrc/ui/pages/home.py:84: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_verify_url","time":{"start":1771649025693,"stop":1771649025693,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1771649025693,"stop":1771649025693,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_session_faker","time":{"start":1771649025693,"stop":1771649025752,"duration":59},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1771649025753,"stop":1771649025753,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1771649025753,"stop":1771649025753,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright","time":{"start":1771649025753,"stop":1771649026156,"duration":403},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"save_allure_environment_file","time":{"start":1771649025753,"stop":1771649025753,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"private_admin_client","time":{"start":1771649047621,"stop":1771649048183,"duration":562},"status":"passed","steps":[{"name":"Отправка запроса на логин пользователя","time":{"start":1771649047652,"stop":1771649048161,"duration":509},"status":"passed","steps":[{"name":"Отправка POST запроса на '/login'","time":{"start":1771649047652,"stop":1771649048161,"duration":509},"status":"passed","steps":[],"attachments":[{"uid":"2c0b5232228bb255","name":"cURL","source":"2c0b5232228bb255.txt","type":"text/plain","size":341}],"parameters":[{"name":"url","value":"'/login'"},{"name":"json","value":"{'email': 'test_admin@mail.ru', 'password': 'test_admin_password'}"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"request","value":"LoginRequestSchema(email='test_admin@mail.ru', password='test_admin_password')"}],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":2,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"create_user_factory","time":{"start":1771649048183,"stop":1771649048183,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"admin","time":{"start":1771649048183,"stop":1771649048639,"duration":456},"status":"passed","steps":[{"name":"Отправка запроса на создание пользователя","time":{"start":1771649048183,"stop":1771649048639,"duration":456},"status":"passed","steps":[{"name":"Отправка POST запроса на '/users'","time":{"start":1771649048183,"stop":1771649048639,"duration":456},"status":"passed","steps":[],"attachments":[{"uid":"c669e7e6b768e767","name":"cURL","source":"c669e7e6b768e767.txt","type":"text/plain","size":549}],"parameters":[{"name":"url","value":"'/users'"},{"name":"json","value":"{'email': 'pavlovaalla@example.com', 'name': 'Леонид', 'phone': '75995752827', 'password': 'y9lA1Tz&&3', 'is_admin': True}"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"request","value":"CreateUserRequestSchema(email='pavlovaalla@example.com', name='Леонид', phone='75995752827', password='y9lA1Tz&&3', is_admin=True)"}],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":2,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"admin_private_product_client","time":{"start":1771649048640,"stop":1771649049165,"duration":525},"status":"passed","steps":[{"name":"Отправка запроса на логин пользователя","time":{"start":1771649048663,"stop":1771649049143,"duration":480},"status":"passed","steps":[{"name":"Отправка POST запроса на '/login'","time":{"start":1771649048663,"stop":1771649049143,"duration":480},"status":"passed","steps":[],"attachments":[{"uid":"5dcfa52519afd4d6","name":"cURL","source":"5dcfa52519afd4d6.txt","type":"text/plain","size":337}],"parameters":[{"name":"url","value":"'/login'"},{"name":"json","value":"{'email': 'pavlovaalla@example.com', 'password': 'y9lA1Tz&&3'}"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"request","value":"LoginRequestSchema(email='pavlovaalla@example.com', password='y9lA1Tz&&3')"}],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":2,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"create_product_factory","time":{"start":1771649049166,"stop":1771649049166,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"create_available_product","time":{"start":1771649049166,"stop":1771649049423,"duration":257},"status":"passed","steps":[{"name":"Отправка запроса на создание продукта","time":{"start":1771649049166,"stop":1771649049422,"duration":256},"status":"passed","steps":[{"name":"Отправка POST запроса на '/products'","time":{"start":1771649049166,"stop":1771649049422,"duration":256},"status":"passed","steps":[],"attachments":[{"uid":"573ac7b147bf69e6","name":"cURL","source":"573ac7b147bf69e6.txt","type":"text/plain","size":934}],"parameters":[{"name":"url","value":"'/products'"},{"name":"json","value":"{'name': 'миф', 'description': 'Приходить видимо монета за славный актриса выраженный. Налево терапия дрогнуть отдел нажать. Командир радость смеяться призыв карман. Художественный боец точно торговля райком выгнать неожиданный.', 'price': 500, 'is_available': True, 'image_url': 'https://placekitten.com/568/490.png', 'stock_quantity': 1}"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"request","value":"CreateProductRequestSchema(name='миф', description='Приходить видимо монета за славный актриса выраженный. Налево терапия дрогнуть отдел нажать. Командир радость смеяться призыв карман. Художественный боец точно торговля райком выгнать неожиданный.', price=500, is_available=True, image_url='https://placekitten.com/568/490.png', stock_quantity=1)"}],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":2,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"function_get_browser_state","time":{"start":1771649049423,"stop":1771649050754,"duration":1331},"status":"passed","steps":[{"name":"Открытие страницы '/register'","time":{"start":1771649049577,"stop":1771649049671,"duration":94},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"url","value":"'/register'"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Заполнение формы регистрации","time":{"start":1771649049671,"stop":1771649049811,"duration":140},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"email","value":"'nikitinemmanuil@example.org'"},{"name":"name","value":"'Платон'"},{"name":"phone","value":"'79458266181'"},{"name":"password","value":"'J1@Az66B+4'"},{"name":"confirm_password","value":"'J1@Az66B+4'"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Клик по кнопке зарегистрироваться","time":{"start":1771649049812,"stop":1771649050574,"duration":762},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Проверка нотификации успешной регистрации","time":{"start":1771649050574,"stop":1771649050678,"duration":104},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":4,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"user_data_function","time":{"start":1771649049423,"stop":1771649049423,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"function_chromium_page_with_state","time":{"start":1771649050755,"stop":1771649050929,"duration":174},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"home_page_with_state","time":{"start":1771649050929,"stop":1771649050929,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"failed","statusMessage":"AssertionError: Locator expected to be visible\nActual value: None\nError: element(s) not found \nCall log:\n  - Expect \"to_be_visible\" with timeout 5000ms\n  - waiting for locator(\".alert-success\").first","statusTrace":"self = <tests.ui.test_home_page.TestHomePage object at 0x7fc0c34ebc20>\ncreate_available_product = CreateProductFixture(request=CreateProductRequestSchema(name='миф', description='Приходить видимо монета за славный ак...ожиданный.', price=500.0, is_available=True, image_url='https://placekitten.com/568/490.png', stock_quantity=1, id=14))\nhome_page_with_state = <src.ui.pages.home.HomePage object at 0x7fc0c2dc28a0>\n\n    @pytest.mark.smoke\n    @allure.feature(Feature.USER_CART)\n    @allure.story(Story.USER_ADD_ITEM_TO_CART)\n    @allure.severity(Severity.BLOCKER)\n    @allure.title(\"Добавление товара в корзину с авторизацией\")\n    def test_click_add_to_cart_button_authorized(self,\n                                                 create_available_product: CreateProductFixture,\n                                                 home_page_with_state: HomePage\n                                                 ):\n        home_page_with_state.open_url(Route.Home)\n    \n        home_page_with_state.get_product_card(create_available_product.product_id).click_add_to_cart_button()\n    \n>       home_page_with_state.check_add_to_cart_success_notification()\n\ntests/ui/test_home_page.py:94: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <src.ui.pages.home.HomePage object at 0x7fc0c2dc28a0>\n\n    @allure.step(\"Проверка нотификации успешного добавления товара в корзину\")\n    def check_add_to_cart_success_notification(self) -> None:\n        \"\"\"\n        Проверяет нотификацию успешного добавления товара в корзину\n        \"\"\"\n    \n>       expect(self.add_to_cart_notification(\"success\")).to_be_visible()\nE       AssertionError: Locator expected to be visible\nE       Actual value: None\nE       Error: element(s) not found \nE       Call log:\nE         - Expect \"to_be_visible\" with timeout 5000ms\nE         - waiting for locator(\".alert-success\").first\n\nsrc/ui/pages/home.py:84: AssertionError","steps":[{"name":"Открытие страницы '/'","time":{"start":1771649050930,"stop":1771649051071,"duration":141},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"url","value":"'/'"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Клик по кнопке добавления товара в корзину","time":{"start":1771649051072,"stop":1771649051165,"duration":93},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Проверка нотификации успешного добавления товара в корзину","time":{"start":1771649051165,"stop":1771649056171,"duration":5006},"status":"failed","statusMessage":"AssertionError: Locator expected to be visible\nActual value: None\nError: element(s) not found \nCall log:\n  - Expect \"to_be_visible\" with timeout 5000ms\n  - waiting for locator(\".alert-success\").first\n\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 202, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/ecommerce_automation_testing/ecommerce_automation_testing/src/ui/pages/home.py\", line 84, in check_add_to_cart_success_notification\n    expect(self.add_to_cart_notification(\"success\")).to_be_visible()\n  File \"/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/playwright/sync_api/_generated.py\", line 20529, in to_be_visible\n    self._sync(self._impl_obj.to_be_visible(visible=visible, timeout=timeout))\n  File \"/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/playwright/_impl/_sync_base.py\", line 115, in _sync\n    return task.result()\n           ^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/playwright/_impl/_assertions.py\", line 765, in to_be_visible\n    await self._expect_impl(\n  File \"/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/playwright/_impl/_assertions.py\", line 85, in _expect_impl\n    raise AssertionError(\n","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":3,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"function_chromium_page_with_state::0","time":{"start":1771649056178,"stop":1771649056210,"duration":32},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright::0","time":{"start":1771649063701,"stop":1771649063712,"duration":11},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"save_allure_environment_file::0","time":{"start":1771649063713,"stop":1771649063713,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"epic","value":"Store Front"},{"name":"story","value":"User Add Item to Cart"},{"name":"severity","value":"blocker"},{"name":"feature","value":"User - Shopping Cart"},{"name":"tag","value":"smoke"},{"name":"tag","value":"regression"},{"name":"tag","value":"home"},{"name":"tag","value":"ui"},{"name":"parentSuite","value":"tests.ui"},{"name":"suite","value":"test_home_page"},{"name":"subSuite","value":"TestHomePage"},{"name":"host","value":"runnervmwffz4"},{"name":"thread","value":"6503-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.ui.test_home_page"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":["ui","regression","smoke","home"]},"source":"4da4eff19120b489.json","parameterValues":[]}