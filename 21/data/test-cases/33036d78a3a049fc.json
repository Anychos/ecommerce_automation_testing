{"uid":"33036d78a3a049fc","name":"Удаление товара из корзины","fullName":"tests.ui.test_cart_page.TestCartPage#test_remove_product","historyId":"f269e061aa283ad0685e5d237bbaa10b","time":{"start":1771563070185,"stop":1771563070185,"duration":0},"status":"failed","statusMessage":"AssertionError: Locator expected to be visible\nActual value: None\nError: element(s) not found \nCall log:\n  - Expect \"to_be_visible\" with timeout 5000ms\n  - waiting for locator(\".alert-success\").first","statusTrace":"create_available_product = CreateProductFixture(request=CreateProductRequestSchema(name='видимо', description='Полевой конференция способ более и...ор исполнять.', price=500.0, is_available=True, image_url='https://picsum.photos/785/442.jpg', stock_quantity=1, id=5))\nhome_page_with_state = <src.ui.pages.home.HomePage object at 0x7fa919f92690>\ncart_page = <src.ui.pages.cart.CartPage object at 0x7fa91a0fdd00>\n\n    @pytest.fixture\n    def cart_page_with_product(create_available_product: CreateProductFixture,\n                               home_page_with_state: HomePage,\n                               cart_page: CartPage\n                               ) -> CartPage:\n        home_page_with_state.open_url(Route.Home)\n    \n        home_page_with_state.get_product_card(create_available_product.product_id).click_add_to_cart_button()\n>       home_page_with_state.check_add_to_cart_success_notification()\n\nsrc/ui/fixtures/page.py:57: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <src.ui.pages.home.HomePage object at 0x7fa919f92690>\n\n    @allure.step(\"Проверка нотификации успешного добавления товара в корзину\")\n    def check_add_to_cart_success_notification(self) -> None:\n        \"\"\"\n        Проверяет нотификацию успешного добавления товара в корзину\n        \"\"\"\n    \n>       expect(self.add_to_cart_notification(\"success\")).to_be_visible()\nE       AssertionError: Locator expected to be visible\nE       Actual value: None\nE       Error: element(s) not found \nE       Call log:\nE         - Expect \"to_be_visible\" with timeout 5000ms\nE         - waiting for locator(\".alert-success\").first\n\nsrc/ui/pages/home.py:84: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_verify_url","time":{"start":1771563060245,"stop":1771563060245,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_session_faker","time":{"start":1771563060245,"stop":1771563060333,"duration":88},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1771563060245,"stop":1771563060245,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1771563060333,"stop":1771563060333,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1771563060333,"stop":1771563060333,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright","time":{"start":1771563060334,"stop":1771563060765,"duration":431},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"save_allure_environment_file","time":{"start":1771563060334,"stop":1771563060334,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"private_admin_client","time":{"start":1771563070186,"stop":1771563070551,"duration":365},"status":"passed","steps":[{"name":"Отправка запроса на логин пользователя","time":{"start":1771563070207,"stop":1771563070518,"duration":311},"status":"passed","steps":[{"name":"Отправка POST запроса на '/login'","time":{"start":1771563070207,"stop":1771563070518,"duration":311},"status":"passed","steps":[],"attachments":[{"uid":"27ba226a26d8fd21","name":"cURL","source":"27ba226a26d8fd21.txt","type":"text/plain","size":341}],"parameters":[{"name":"url","value":"'/login'"},{"name":"json","value":"{'email': 'test_admin@mail.ru', 'password': 'test_admin_password'}"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"request","value":"LoginRequestSchema(email='test_admin@mail.ru', password='test_admin_password')"}],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":2,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"create_user_factory","time":{"start":1771563070551,"stop":1771563070551,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"admin","time":{"start":1771563070551,"stop":1771563071461,"duration":910},"status":"passed","steps":[{"name":"Отправка запроса на создание пользователя","time":{"start":1771563070552,"stop":1771563071461,"duration":909},"status":"passed","steps":[{"name":"Отправка POST запроса на '/users'","time":{"start":1771563070552,"stop":1771563071460,"duration":908},"status":"passed","steps":[],"attachments":[{"uid":"350d22c1859a267a","name":"cURL","source":"350d22c1859a267a.txt","type":"text/plain","size":550}],"parameters":[{"name":"url","value":"'/users'"},{"name":"json","value":"{'email': 'zosima_88@example.com', 'name': 'Евдоким', 'phone': '+75057254336', 'password': '(5nBpz3LtF', 'is_admin': True}"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"request","value":"CreateUserRequestSchema(email='zosima_88@example.com', name='Евдоким', phone='+75057254336', password='(5nBpz3LtF', is_admin=True)"}],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":2,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"admin_private_product_client","time":{"start":1771563071461,"stop":1771563071808,"duration":347},"status":"passed","steps":[{"name":"Отправка запроса на логин пользователя","time":{"start":1771563071497,"stop":1771563071781,"duration":284},"status":"passed","steps":[{"name":"Отправка POST запроса на '/login'","time":{"start":1771563071497,"stop":1771563071781,"duration":284},"status":"passed","steps":[],"attachments":[{"uid":"1d455ee952f3910f","name":"cURL","source":"1d455ee952f3910f.txt","type":"text/plain","size":335}],"parameters":[{"name":"url","value":"'/login'"},{"name":"json","value":"{'email': 'zosima_88@example.com', 'password': '(5nBpz3LtF'}"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"request","value":"LoginRequestSchema(email='zosima_88@example.com', password='(5nBpz3LtF')"}],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":2,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"create_product_factory","time":{"start":1771563071808,"stop":1771563071808,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"create_available_product","time":{"start":1771563071808,"stop":1771563072018,"duration":210},"status":"passed","steps":[{"name":"Отправка запроса на создание продукта","time":{"start":1771563071808,"stop":1771563072017,"duration":209},"status":"passed","steps":[{"name":"Отправка POST запроса на '/products'","time":{"start":1771563071808,"stop":1771563072017,"duration":209},"status":"passed","steps":[],"attachments":[{"uid":"cc7a8ea23efd726b","name":"cURL","source":"cc7a8ea23efd726b.txt","type":"text/plain","size":755}],"parameters":[{"name":"url","value":"'/products'"},{"name":"json","value":"{'name': 'видимо', 'description': 'Полевой конференция способ более изба сутки. Ручей промолчать функция госпожа при мусор исполнять.', 'price': 500, 'is_available': True, 'image_url': 'https://picsum.photos/785/442.jpg', 'stock_quantity': 1}"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"request","value":"CreateProductRequestSchema(name='видимо', description='Полевой конференция способ более изба сутки. Ручей промолчать функция госпожа при мусор исполнять.', price=500, is_available=True, image_url='https://picsum.photos/785/442.jpg', stock_quantity=1)"}],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":2,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"user_data_function","time":{"start":1771563072018,"stop":1771563072019,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"function_get_browser_state","time":{"start":1771563072019,"stop":1771563073163,"duration":1144},"status":"passed","steps":[{"name":"Открытие страницы '/register'","time":{"start":1771563072157,"stop":1771563072285,"duration":128},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"url","value":"'/register'"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Заполнение формы регистрации","time":{"start":1771563072285,"stop":1771563072466,"duration":181},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"email","value":"'lora86@example.com'"},{"name":"name","value":"'Соломон'"},{"name":"phone","value":"'88661019944'"},{"name":"password","value":"'^+0Ud*feIt'"},{"name":"confirm_password","value":"'^+0Ud*feIt'"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Клик по кнопке зарегистрироваться","time":{"start":1771563072466,"stop":1771563073020,"duration":554},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Проверка нотификации успешной регистрации","time":{"start":1771563073020,"stop":1771563073095,"duration":75},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":4,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"function_chromium_page_with_state","time":{"start":1771563073163,"stop":1771563073341,"duration":178},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"cart_page","time":{"start":1771563073342,"stop":1771563073342,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"cart_page_with_product","time":{"start":1771563073342,"stop":1771563078580,"duration":5238},"status":"failed","statusMessage":"AssertionError: Locator expected to be visible\nActual value: None\nError: element(s) not found \nCall log:\n  - Expect \"to_be_visible\" with timeout 5000ms\n  - waiting for locator(\".alert-success\").first\n\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/pluggy/_callers.py\", line 38, in run_old_style_hookwrapper\n    res = yield\n          ^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/pluggy/_callers.py\", line 139, in _multicall\n    teardown.throw(exception)\n  File \"/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/pluggy/_callers.py\", line 53, in run_old_style_hookwrapper\n    return result.get_result()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/pluggy/_result.py\", line 103, in get_result\n    raise exc.with_traceback(tb)\n  File \"/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/pluggy/_callers.py\", line 38, in run_old_style_hookwrapper\n    res = yield\n          ^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/pluggy/_callers.py\", line 139, in _multicall\n    teardown.throw(exception)\n  File \"/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/_pytest/setuponly.py\", line 36, in pytest_fixture_setup\n    return (yield)\n            ^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/_pytest/fixtures.py\", line 1202, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/_pytest/fixtures.py\", line 915, in call_fixture_func\n    fixture_result = fixturefunc(**kwargs)\n                     ^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/ecommerce_automation_testing/ecommerce_automation_testing/src/ui/fixtures/page.py\", line 57, in cart_page_with_product\n    home_page_with_state.check_add_to_cart_success_notification()\n  File \"/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 202, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/ecommerce_automation_testing/ecommerce_automation_testing/src/ui/pages/home.py\", line 84, in check_add_to_cart_success_notification\n    expect(self.add_to_cart_notification(\"success\")).to_be_visible()\n  File \"/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/playwright/sync_api/_generated.py\", line 20529, in to_be_visible\n    self._sync(self._impl_obj.to_be_visible(visible=visible, timeout=timeout))\n  File \"/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/playwright/_impl/_sync_base.py\", line 115, in _sync\n    return task.result()\n           ^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/playwright/_impl/_assertions.py\", line 765, in to_be_visible\n    await self._expect_impl(\n  File \"/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/playwright/_impl/_assertions.py\", line 85, in _expect_impl\n    raise AssertionError(\n","steps":[{"name":"Открытие страницы '/'","time":{"start":1771563073342,"stop":1771563073481,"duration":139},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"url","value":"'/'"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Клик по кнопке добавления товара в корзину","time":{"start":1771563073481,"stop":1771563073574,"duration":93},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Проверка нотификации успешного добавления товара в корзину","time":{"start":1771563073574,"stop":1771563078579,"duration":5005},"status":"failed","statusMessage":"AssertionError: Locator expected to be visible\nActual value: None\nError: element(s) not found \nCall log:\n  - Expect \"to_be_visible\" with timeout 5000ms\n  - waiting for locator(\".alert-success\").first\n\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 202, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/ecommerce_automation_testing/ecommerce_automation_testing/src/ui/pages/home.py\", line 84, in check_add_to_cart_success_notification\n    expect(self.add_to_cart_notification(\"success\")).to_be_visible()\n  File \"/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/playwright/sync_api/_generated.py\", line 20529, in to_be_visible\n    self._sync(self._impl_obj.to_be_visible(visible=visible, timeout=timeout))\n  File \"/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/playwright/_impl/_sync_base.py\", line 115, in _sync\n    return task.result()\n           ^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/playwright/_impl/_assertions.py\", line 765, in to_be_visible\n    await self._expect_impl(\n  File \"/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/playwright/_impl/_assertions.py\", line 85, in _expect_impl\n    raise AssertionError(\n","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":3,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"home_page_with_state","time":{"start":1771563073342,"stop":1771563073342,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"afterStages":[{"name":"function_chromium_page_with_state::0","time":{"start":1771563078595,"stop":1771563078629,"duration":34},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright::0","time":{"start":1771563090948,"stop":1771563090956,"duration":8},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"save_allure_environment_file::0","time":{"start":1771563090956,"stop":1771563090957,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"severity","value":"critical"},{"name":"story","value":"User Remove Product from Cart"},{"name":"epic","value":"Store Front"},{"name":"feature","value":"User - Shopping Cart"},{"name":"tag","value":"regression"},{"name":"tag","value":"cart"},{"name":"tag","value":"ui"},{"name":"parentSuite","value":"tests.ui"},{"name":"suite","value":"test_cart_page"},{"name":"subSuite","value":"TestCartPage"},{"name":"host","value":"runnervmwffz4"},{"name":"thread","value":"6443-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.ui.test_cart_page"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":["ui","regression","cart"]},"source":"33036d78a3a049fc.json","parameterValues":[]}