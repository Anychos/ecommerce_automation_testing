{"uid":"dfc3d19fe98d9246","name":"Отображение корзины с товаром","fullName":"tests.ui.test_cart_page.TestCartPage#test_check_cart_with_item","historyId":"5c9ac4eaad53686758c9d01b0420e229","time":{"start":1771729280898,"stop":1771729280898,"duration":0},"status":"failed","statusMessage":"AssertionError: Locator expected to be visible\nActual value: None\nError: element(s) not found \nCall log:\n  - Expect \"to_be_visible\" with timeout 5000ms\n  - waiting for locator(\".alert-success\").first","statusTrace":"create_available_product = CreateProductFixture(request=CreateProductRequestSchema(name='строительство', description='Металл что уничтожение очер...нь висеть.', price=500.0, is_available=True, image_url='https://placekitten.com/696/598.jpeg', stock_quantity=1, id=2))\nhome_page_with_state = <src.ui.pages.home.HomePage object at 0x7f89feee6f00>\ncart_page = <src.ui.pages.cart.CartPage object at 0x7f89feeecbf0>\n\n    @pytest.fixture\n    def cart_page_with_product(create_available_product: CreateProductFixture,\n                               home_page_with_state: HomePage,\n                               cart_page: CartPage\n                               ) -> CartPage:\n        home_page_with_state.open_url(Route.Home)\n    \n        home_page_with_state.get_product_card(create_available_product.product_id).click_add_to_cart_button()\n>       home_page_with_state.check_add_to_cart_success_notification()\n\nsrc/ui/fixtures/page.py:57: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <src.ui.pages.home.HomePage object at 0x7f89feee6f00>\n\n    @allure.step(\"Проверка нотификации успешного добавления товара в корзину\")\n    def check_add_to_cart_success_notification(self) -> None:\n        \"\"\"\n        Проверяет нотификацию успешного добавления товара в корзину\n        \"\"\"\n    \n>       expect(self.add_to_cart_notification(\"success\")).to_be_visible()\nE       AssertionError: Locator expected to be visible\nE       Actual value: None\nE       Error: element(s) not found \nE       Call log:\nE         - Expect \"to_be_visible\" with timeout 5000ms\nE         - waiting for locator(\".alert-success\").first\n\nsrc/ui/pages/home.py:84: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_verify_url","time":{"start":1771729277697,"stop":1771729277697,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1771729277697,"stop":1771729277697,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_session_faker","time":{"start":1771729277698,"stop":1771729277782,"duration":84},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1771729277782,"stop":1771729277782,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"save_allure_environment_file","time":{"start":1771729277782,"stop":1771729277782,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1771729277782,"stop":1771729277782,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright","time":{"start":1771729277783,"stop":1771729278193,"duration":410},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"private_admin_client","time":{"start":1771729280899,"stop":1771729281628,"duration":729},"status":"passed","steps":[{"name":"Отправка запроса на логин пользователя","time":{"start":1771729280943,"stop":1771729281592,"duration":649},"status":"passed","steps":[{"name":"Отправка POST запроса на '/login'","time":{"start":1771729280944,"stop":1771729281592,"duration":648},"status":"passed","steps":[],"attachments":[{"uid":"f3668ebe3e2a9606","name":"cURL","source":"f3668ebe3e2a9606.txt","type":"text/plain","size":341}],"parameters":[{"name":"url","value":"'/login'"},{"name":"json","value":"{'email': 'test_admin@mail.ru', 'password': 'test_admin_password'}"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"request","value":"LoginRequestSchema(email='test_admin@mail.ru', password='test_admin_password')"}],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":2,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"create_user_factory","time":{"start":1771729281628,"stop":1771729281628,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"admin","time":{"start":1771729281628,"stop":1771729282561,"duration":933},"status":"passed","steps":[{"name":"Отправка запроса на создание пользователя","time":{"start":1771729281629,"stop":1771729282561,"duration":932},"status":"passed","steps":[{"name":"Отправка POST запроса на '/users'","time":{"start":1771729281629,"stop":1771729282561,"duration":932},"status":"passed","steps":[],"attachments":[{"uid":"1dce12c2d0c15637","name":"cURL","source":"1dce12c2d0c15637.txt","type":"text/plain","size":558}],"parameters":[{"name":"url","value":"'/users'"},{"name":"json","value":"{'email': 'samolovvenedikt@example.com', 'name': 'Борислав', 'phone': '+70810043410', 'password': 'l_V9Ggv3mk', 'is_admin': True}"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"request","value":"CreateUserRequestSchema(email='samolovvenedikt@example.com', name='Борислав', phone='+70810043410', password='l_V9Ggv3mk', is_admin=True)"}],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":2,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"admin_private_product_client","time":{"start":1771729282561,"stop":1771729283128,"duration":567},"status":"passed","steps":[{"name":"Отправка запроса на логин пользователя","time":{"start":1771729282603,"stop":1771729283091,"duration":488},"status":"passed","steps":[{"name":"Отправка POST запроса на '/login'","time":{"start":1771729282603,"stop":1771729283091,"duration":488},"status":"passed","steps":[],"attachments":[{"uid":"896415b6f7fdfebd","name":"cURL","source":"896415b6f7fdfebd.txt","type":"text/plain","size":341}],"parameters":[{"name":"url","value":"'/login'"},{"name":"json","value":"{'email': 'samolovvenedikt@example.com', 'password': 'l_V9Ggv3mk'}"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"request","value":"LoginRequestSchema(email='samolovvenedikt@example.com', password='l_V9Ggv3mk')"}],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":2,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"create_available_product","time":{"start":1771729283128,"stop":1771729283355,"duration":227},"status":"passed","steps":[{"name":"Отправка запроса на создание продукта","time":{"start":1771729283129,"stop":1771729283355,"duration":226},"status":"passed","steps":[{"name":"Отправка POST запроса на '/products'","time":{"start":1771729283129,"stop":1771729283355,"duration":226},"status":"passed","steps":[],"attachments":[{"uid":"aed97324a3394895","name":"cURL","source":"aed97324a3394895.txt","type":"text/plain","size":773}],"parameters":[{"name":"url","value":"'/products'"},{"name":"json","value":"{'name': 'строительство', 'description': 'Металл что уничтожение очередной возбуждение покидать. Собеседник смертельный потом парень висеть.', 'price': 500, 'is_available': True, 'image_url': 'https://placekitten.com/696/598.jpeg', 'stock_quantity': 1}"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"request","value":"CreateProductRequestSchema(name='строительство', description='Металл что уничтожение очередной возбуждение покидать. Собеседник смертельный потом парень висеть.', price=500, is_available=True, image_url='https://placekitten.com/696/598.jpeg', stock_quantity=1)"}],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":2,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"create_product_factory","time":{"start":1771729283128,"stop":1771729283128,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"user_data_function","time":{"start":1771729283355,"stop":1771729283356,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"function_get_browser_state","time":{"start":1771729283356,"stop":1771729284635,"duration":1279},"status":"passed","steps":[{"name":"Открытие страницы '/register'","time":{"start":1771729283510,"stop":1771729283610,"duration":100},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"url","value":"'/register'"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Заполнение формы регистрации","time":{"start":1771729283610,"stop":1771729283767,"duration":157},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"email","value":"'isakovsokrat@example.com'"},{"name":"name","value":"'Аполлинарий'"},{"name":"phone","value":"'79962910333'"},{"name":"password","value":"'Uy0O4Q5n%#'"},{"name":"confirm_password","value":"'Uy0O4Q5n%#'"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Клик по кнопке зарегистрироваться","time":{"start":1771729283767,"stop":1771729284481,"duration":714},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Проверка нотификации успешной регистрации","time":{"start":1771729284481,"stop":1771729284553,"duration":72},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":4,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"function_chromium_page_with_state","time":{"start":1771729284635,"stop":1771729284791,"duration":156},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"home_page_with_state","time":{"start":1771729284791,"stop":1771729284791,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"cart_page","time":{"start":1771729284791,"stop":1771729284792,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"cart_page_with_product","time":{"start":1771729284792,"stop":1771729290106,"duration":5314},"status":"failed","statusMessage":"AssertionError: Locator expected to be visible\nActual value: None\nError: element(s) not found \nCall log:\n  - Expect \"to_be_visible\" with timeout 5000ms\n  - waiting for locator(\".alert-success\").first\n\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/pluggy/_callers.py\", line 38, in run_old_style_hookwrapper\n    res = yield\n          ^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/pluggy/_callers.py\", line 139, in _multicall\n    teardown.throw(exception)\n  File \"/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/pluggy/_callers.py\", line 53, in run_old_style_hookwrapper\n    return result.get_result()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/pluggy/_result.py\", line 103, in get_result\n    raise exc.with_traceback(tb)\n  File \"/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/pluggy/_callers.py\", line 38, in run_old_style_hookwrapper\n    res = yield\n          ^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/pluggy/_callers.py\", line 139, in _multicall\n    teardown.throw(exception)\n  File \"/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/_pytest/setuponly.py\", line 36, in pytest_fixture_setup\n    return (yield)\n            ^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/_pytest/fixtures.py\", line 1202, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/_pytest/fixtures.py\", line 915, in call_fixture_func\n    fixture_result = fixturefunc(**kwargs)\n                     ^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/ecommerce_automation_testing/ecommerce_automation_testing/src/ui/fixtures/page.py\", line 57, in cart_page_with_product\n    home_page_with_state.check_add_to_cart_success_notification()\n  File \"/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 202, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/ecommerce_automation_testing/ecommerce_automation_testing/src/ui/pages/home.py\", line 84, in check_add_to_cart_success_notification\n    expect(self.add_to_cart_notification(\"success\")).to_be_visible()\n  File \"/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/playwright/sync_api/_generated.py\", line 20529, in to_be_visible\n    self._sync(self._impl_obj.to_be_visible(visible=visible, timeout=timeout))\n  File \"/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/playwright/_impl/_sync_base.py\", line 115, in _sync\n    return task.result()\n           ^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/playwright/_impl/_assertions.py\", line 765, in to_be_visible\n    await self._expect_impl(\n  File \"/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/playwright/_impl/_assertions.py\", line 85, in _expect_impl\n    raise AssertionError(\n","steps":[{"name":"Открытие страницы '/'","time":{"start":1771729284792,"stop":1771729284974,"duration":182},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"url","value":"'/'"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Клик по кнопке добавления товара в корзину","time":{"start":1771729284974,"stop":1771729285087,"duration":113},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Проверка нотификации успешного добавления товара в корзину","time":{"start":1771729285087,"stop":1771729290105,"duration":5018},"status":"failed","statusMessage":"AssertionError: Locator expected to be visible\nActual value: None\nError: element(s) not found \nCall log:\n  - Expect \"to_be_visible\" with timeout 5000ms\n  - waiting for locator(\".alert-success\").first\n\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 202, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/ecommerce_automation_testing/ecommerce_automation_testing/src/ui/pages/home.py\", line 84, in check_add_to_cart_success_notification\n    expect(self.add_to_cart_notification(\"success\")).to_be_visible()\n  File \"/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/playwright/sync_api/_generated.py\", line 20529, in to_be_visible\n    self._sync(self._impl_obj.to_be_visible(visible=visible, timeout=timeout))\n  File \"/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/playwright/_impl/_sync_base.py\", line 115, in _sync\n    return task.result()\n           ^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/playwright/_impl/_assertions.py\", line 765, in to_be_visible\n    await self._expect_impl(\n  File \"/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/playwright/_impl/_assertions.py\", line 85, in _expect_impl\n    raise AssertionError(\n","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":3,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"afterStages":[{"name":"function_chromium_page_with_state::0","time":{"start":1771729290127,"stop":1771729290526,"duration":399},"status":"passed","steps":[],"attachments":[{"uid":"3211ebbd9e1d5b70","name":"test trace","source":"3211ebbd9e1d5b70.zip","type":"application/zip","size":2182645}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"playwright::0","time":{"start":1771729313198,"stop":1771729313212,"duration":14},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"save_allure_environment_file::0","time":{"start":1771729313212,"stop":1771729313213,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"severity","value":"major"},{"name":"epic","value":"Store Front"},{"name":"feature","value":"User - Shopping Cart"},{"name":"story","value":"Page Visibility"},{"name":"tag","value":"regression"},{"name":"tag","value":"cart"},{"name":"tag","value":"ui"},{"name":"parentSuite","value":"tests.ui"},{"name":"suite","value":"test_cart_page"},{"name":"subSuite","value":"TestCartPage"},{"name":"host","value":"runnervmwffz4"},{"name":"thread","value":"6444-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.ui.test_cart_page"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":["ui","regression","cart"]},"source":"dfc3d19fe98d9246.json","parameterValues":[]}