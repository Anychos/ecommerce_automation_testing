{"uid":"3f7cbf89233fe4ae","name":"Переход на страницу оформления заказа","fullName":"tests.ui.test_cart_page.TestCartPage#test_click_checkout","historyId":"1b83e7b3913354d00f448d252dcc1910","time":{"start":1771756311584,"stop":1771756311584,"duration":0},"status":"failed","statusMessage":"AssertionError: Locator expected to be visible\nActual value: None\nError: element(s) not found \nCall log:\n  - Expect \"to_be_visible\" with timeout 5000ms\n  - waiting for locator(\".alert-success\").first","statusTrace":"create_available_product = CreateProductFixture(request=CreateProductRequestSchema(name='посвятить', description='Исследование магазин одиннадцат...а выбирать.', price=500.0, is_available=True, image_url='https://dummyimage.com/740x592.webp', stock_quantity=1, id=1))\nhome_page_with_state = <src.ui.pages.home.HomePage object at 0x7f9a493ed7c0>\ncart_page = <src.ui.pages.cart.CartPage object at 0x7f9a493effb0>\n\n    @pytest.fixture\n    def cart_page_with_product(create_available_product: CreateProductFixture,\n                               home_page_with_state: HomePage,\n                               cart_page: CartPage\n                               ) -> CartPage:\n        home_page_with_state.open_url(Route.Home)\n    \n        home_page_with_state.get_product_card(create_available_product.product_id).click_add_to_cart_button()\n>       home_page_with_state.check_add_to_cart_success_notification()\n\nsrc/ui/fixtures/page.py:57: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <src.ui.pages.home.HomePage object at 0x7f9a493ed7c0>\n\n    @allure.step(\"Проверка нотификации успешного добавления товара в корзину\")\n    def check_add_to_cart_success_notification(self) -> None:\n        \"\"\"\n        Проверяет нотификацию успешного добавления товара в корзину\n        \"\"\"\n    \n>       expect(self.add_to_cart_notification(\"success\")).to_be_visible()\nE       AssertionError: Locator expected to be visible\nE       Actual value: None\nE       Error: element(s) not found \nE       Call log:\nE         - Expect \"to_be_visible\" with timeout 5000ms\nE         - waiting for locator(\".alert-success\").first\n\nsrc/ui/pages/home.py:84: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"base_url","time":{"start":1771756307699,"stop":1771756307700,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_session_faker","time":{"start":1771756307700,"stop":1771756307776,"duration":76},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1771756307700,"stop":1771756307700,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"save_allure_environment_file","time":{"start":1771756307777,"stop":1771756307777,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright","time":{"start":1771756307777,"stop":1771756308124,"duration":347},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1771756307777,"stop":1771756307777,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1771756307777,"stop":1771756307777,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"private_admin_client","time":{"start":1771756311585,"stop":1771756312102,"duration":517},"status":"passed","steps":[{"name":"Отправка запроса на логин пользователя","time":{"start":1771756311661,"stop":1771756312081,"duration":420},"status":"passed","steps":[{"name":"Отправка POST запроса на '/login'","time":{"start":1771756311662,"stop":1771756312081,"duration":419},"status":"passed","steps":[],"attachments":[{"uid":"42a492a3bdfdf088","name":"cURL","source":"42a492a3bdfdf088.txt","type":"text/plain","size":341}],"parameters":[{"name":"url","value":"'/login'"},{"name":"json","value":"{'email': 'test_admin@mail.ru', 'password': 'test_admin_password'}"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"request","value":"LoginRequestSchema(email='test_admin@mail.ru', password='test_admin_password')"}],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":2,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"admin","time":{"start":1771756312102,"stop":1771756313076,"duration":974},"status":"passed","steps":[{"name":"Отправка запроса на создание пользователя","time":{"start":1771756312103,"stop":1771756313076,"duration":973},"status":"passed","steps":[{"name":"Отправка POST запроса на '/users'","time":{"start":1771756312103,"stop":1771756313076,"duration":973},"status":"passed","steps":[],"attachments":[{"uid":"b85b282647b6d460","name":"cURL","source":"b85b282647b6d460.txt","type":"text/plain","size":548}],"parameters":[{"name":"url","value":"'/users'"},{"name":"json","value":"{'email': 'petrbikov@example.org', 'name': 'Лариса', 'phone': '+74187514044', 'password': '*T1+9vCxfr', 'is_admin': True}"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"request","value":"CreateUserRequestSchema(email='petrbikov@example.org', name='Лариса', phone='+74187514044', password='*T1+9vCxfr', is_admin=True)"}],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":2,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"create_user_factory","time":{"start":1771756312102,"stop":1771756312102,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"admin_private_product_client","time":{"start":1771756313076,"stop":1771756313419,"duration":343},"status":"passed","steps":[{"name":"Отправка запроса на логин пользователя","time":{"start":1771756313109,"stop":1771756313398,"duration":289},"status":"passed","steps":[{"name":"Отправка POST запроса на '/login'","time":{"start":1771756313109,"stop":1771756313398,"duration":289},"status":"passed","steps":[],"attachments":[{"uid":"7e5de63c431e1f0","name":"cURL","source":"7e5de63c431e1f0.txt","type":"text/plain","size":335}],"parameters":[{"name":"url","value":"'/login'"},{"name":"json","value":"{'email': 'petrbikov@example.org', 'password': '*T1+9vCxfr'}"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"request","value":"LoginRequestSchema(email='petrbikov@example.org', password='*T1+9vCxfr')"}],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":2,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"create_available_product","time":{"start":1771756313419,"stop":1771756313905,"duration":486},"status":"passed","steps":[{"name":"Отправка запроса на создание продукта","time":{"start":1771756313419,"stop":1771756313905,"duration":486},"status":"passed","steps":[{"name":"Отправка POST запроса на '/products'","time":{"start":1771756313420,"stop":1771756313905,"duration":485},"status":"passed","steps":[],"attachments":[{"uid":"c6993d20dd5f1bf0","name":"cURL","source":"c6993d20dd5f1bf0.txt","type":"text/plain","size":851}],"parameters":[{"name":"url","value":"'/products'"},{"name":"json","value":"{'name': 'посвятить', 'description': 'Исследование магазин одиннадцать.\\nПропасть банда дошлый командующий. Ночь головной радость запустить встать. Сутки инвалид запретить за выбирать.', 'price': 500, 'is_available': True, 'image_url': 'https://dummyimage.com/740x592.webp', 'stock_quantity': 1}"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"request","value":"CreateProductRequestSchema(name='посвятить', description='Исследование магазин одиннадцать.\\nПропасть банда дошлый командующий. Ночь головной радость запустить встать. Сутки инвалид запретить за выбирать.', price=500, is_available=True, image_url='https://dummyimage.com/740x592.webp', stock_quantity=1)"}],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":2,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"create_product_factory","time":{"start":1771756313419,"stop":1771756313419,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"user_data_function","time":{"start":1771756313906,"stop":1771756313906,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"function_get_browser_state","time":{"start":1771756313906,"stop":1771756315225,"duration":1319},"status":"passed","steps":[{"name":"Открытие страницы '/register'","time":{"start":1771756314034,"stop":1771756314149,"duration":115},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"url","value":"'/register'"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Заполнение формы регистрации","time":{"start":1771756314150,"stop":1771756314320,"duration":170},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"email","value":"'bazhen2021@example.net'"},{"name":"name","value":"'Харлампий'"},{"name":"phone","value":"'+79981486064'"},{"name":"password","value":"'EK()A9SkR6'"},{"name":"confirm_password","value":"'EK()A9SkR6'"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Клик по кнопке зарегистрироваться","time":{"start":1771756314320,"stop":1771756315102,"duration":782},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Проверка нотификации успешной регистрации","time":{"start":1771756315102,"stop":1771756315160,"duration":58},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":4,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"function_chromium_page_with_state","time":{"start":1771756315226,"stop":1771756315358,"duration":132},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"home_page_with_state","time":{"start":1771756315360,"stop":1771756315360,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"cart_page","time":{"start":1771756315361,"stop":1771756315361,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"cart_page_with_product","time":{"start":1771756315361,"stop":1771756320697,"duration":5336},"status":"failed","statusMessage":"AssertionError: Locator expected to be visible\nActual value: None\nError: element(s) not found \nCall log:\n  - Expect \"to_be_visible\" with timeout 5000ms\n  - waiting for locator(\".alert-success\").first\n\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/pluggy/_callers.py\", line 38, in run_old_style_hookwrapper\n    res = yield\n          ^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/pluggy/_callers.py\", line 139, in _multicall\n    teardown.throw(exception)\n  File \"/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/pluggy/_callers.py\", line 53, in run_old_style_hookwrapper\n    return result.get_result()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/pluggy/_result.py\", line 103, in get_result\n    raise exc.with_traceback(tb)\n  File \"/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/pluggy/_callers.py\", line 38, in run_old_style_hookwrapper\n    res = yield\n          ^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/pluggy/_callers.py\", line 139, in _multicall\n    teardown.throw(exception)\n  File \"/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/_pytest/setuponly.py\", line 36, in pytest_fixture_setup\n    return (yield)\n            ^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/_pytest/fixtures.py\", line 1202, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/_pytest/fixtures.py\", line 915, in call_fixture_func\n    fixture_result = fixturefunc(**kwargs)\n                     ^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/ecommerce_automation_testing/ecommerce_automation_testing/src/ui/fixtures/page.py\", line 57, in cart_page_with_product\n    home_page_with_state.check_add_to_cart_success_notification()\n  File \"/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 202, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/ecommerce_automation_testing/ecommerce_automation_testing/src/ui/pages/home.py\", line 84, in check_add_to_cart_success_notification\n    expect(self.add_to_cart_notification(\"success\")).to_be_visible()\n  File \"/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/playwright/sync_api/_generated.py\", line 20529, in to_be_visible\n    self._sync(self._impl_obj.to_be_visible(visible=visible, timeout=timeout))\n  File \"/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/playwright/_impl/_sync_base.py\", line 115, in _sync\n    return task.result()\n           ^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/playwright/_impl/_assertions.py\", line 765, in to_be_visible\n    await self._expect_impl(\n  File \"/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/playwright/_impl/_assertions.py\", line 85, in _expect_impl\n    raise AssertionError(\n","steps":[{"name":"Открытие страницы '/'","time":{"start":1771756315361,"stop":1771756315560,"duration":199},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"url","value":"'/'"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Клик по кнопке добавления товара в корзину","time":{"start":1771756315561,"stop":1771756315658,"duration":97},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Проверка нотификации успешного добавления товара в корзину","time":{"start":1771756315658,"stop":1771756320696,"duration":5038},"status":"failed","statusMessage":"AssertionError: Locator expected to be visible\nActual value: None\nError: element(s) not found \nCall log:\n  - Expect \"to_be_visible\" with timeout 5000ms\n  - waiting for locator(\".alert-success\").first\n\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 202, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/ecommerce_automation_testing/ecommerce_automation_testing/src/ui/pages/home.py\", line 84, in check_add_to_cart_success_notification\n    expect(self.add_to_cart_notification(\"success\")).to_be_visible()\n  File \"/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/playwright/sync_api/_generated.py\", line 20529, in to_be_visible\n    self._sync(self._impl_obj.to_be_visible(visible=visible, timeout=timeout))\n  File \"/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/playwright/_impl/_sync_base.py\", line 115, in _sync\n    return task.result()\n           ^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/playwright/_impl/_assertions.py\", line 765, in to_be_visible\n    await self._expect_impl(\n  File \"/opt/hostedtoolcache/Python/3.12.12/x64/lib/python3.12/site-packages/playwright/_impl/_assertions.py\", line 85, in _expect_impl\n    raise AssertionError(\n","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":3,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"checkout_page","time":{"start":1771756329024,"stop":1771756329024,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"afterStages":[{"name":"function_chromium_page_with_state::0","time":{"start":1771756320712,"stop":1771756320868,"duration":156},"status":"passed","steps":[],"attachments":[{"uid":"cc9ce5f676021ee0","name":"test trace","source":"cc9ce5f676021ee0.zip","type":"application/zip","size":1283905}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"playwright::0","time":{"start":1771756368017,"stop":1771756368025,"duration":8},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"save_allure_environment_file::0","time":{"start":1771756368025,"stop":1771756368025,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"epic","value":"Store Front"},{"name":"feature","value":"User - Shopping Cart"},{"name":"story","value":"User Create Order"},{"name":"severity","value":"blocker"},{"name":"tag","value":"smoke"},{"name":"tag","value":"regression"},{"name":"tag","value":"cart"},{"name":"tag","value":"ui"},{"name":"parentSuite","value":"tests.ui"},{"name":"suite","value":"test_cart_page"},{"name":"subSuite","value":"TestCartPage"},{"name":"host","value":"runnervmwffz4"},{"name":"thread","value":"6468-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.ui.test_cart_page"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":["ui","regression","smoke","cart"]},"source":"3f7cbf89233fe4ae.json","parameterValues":[]}